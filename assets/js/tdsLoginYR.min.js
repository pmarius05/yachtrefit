function registerAction(e,s,t,d,r,i,o,n,a,l,_){var c={action:"td_mod_subscription_register_yr",email:e,user:s,pass:t,retype_pass:d,role:r,region:i,phone_country:n,phone_code:a,phone_intl:l,phone:o,captcha:_},g=jQuery("#tds-register-div"),p=g.closest(".tds-block-inner").find("#tds_register_button_yr");g.find(".td_display_err").hide(),p.prop("disabled",!0).addClass("tds-s-btn-saving"),jQuery.ajax({type:"POST",url:td_ajax_url,data:c,success:function(e,s,t){var d=jQuery.parseJSON(e),r=jQuery("#tds-register-div");if((n=r.closest(".tds-block-inner").find("#tds_register_button_yr")).removeClass("tds-s-btn-saving"),1===d[1]){tdLogin.addRemoveClass([".td_display_err",1,"td_display_msg_ok"]),tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-success"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-error"]);var i=new URLSearchParams(new URL(window.location.href).search.slice(1));if(i.has("ref_url")){var o=r.find("#tds-continue-subscription"),n=r.closest(".tds-block-inner").find("#tds_register_button_yr"),a=r.closest(".tds-block-inner").find(".tds-s-cal-page-switch");o.length&&o.show().attr("href",window.atob(i.get("ref_url").replace("=",""))),n.length&&n.hide(),a.length&&a.hide()}else{n=r.closest(".tds-block-inner").find("#tds_register_button_yr"),a=r.closest(".tds-block-inner").find(".tds-s-cal-page-switch");var l=r.closest(".tds-block-inner").find("#tds-my-account");n.length&&n.hide(),a.length&&a.hide(),l.length&&l.show()}r.find(".tds-s-form-content .tds-s-fc-inner").hide()}else tdLogin.addRemoveClass([".td_display_err",0,"td_display_msg_ok"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]);tdLogin.showHideMsg(d[2])},error:function(e,s,t){}})}jQuery(document).ready((function(){jQuery("body").on("click","#tds_register_button_yr",(function(e){e.preventDefault();var s=jQuery("#tds_register_email_yr"),t=jQuery("#tds_register_user_yr"),d=jQuery("#tds_register_pass_yr"),r=jQuery("#tds_register_retype_pass_yr"),i=jQuery("#tds_register_role_yr"),o=jQuery("#tds_register_region_yr"),n=jQuery(".iti__selected-flag");$registerPhone=jQuery("#tds_cwn_register_phoneTelCode"),$registerCaptchaEl=jQuery("#gRecaptchaResponseR");let a=n.attr("title"),l=a.split(": "),_=l[0],c=l[1],g=a;if(s.length&&t.length&&d.length&&r.length&&i.length){var p=s.val().trim(),u=t.val().trim(),y=d.val().trim(),f=r.val().trim(),h=i.find("option:selected").val(),v=o.find("option:selected").val(),m=$registerPhone.val().trim();if(captchaKey=$registerCaptchaEl.attr("data-sitekey"),captchaToken="",!tdLogin.email_pattern.test(p))return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg(window.td_email_incorrect);if(""===u)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg(window.td_user_incorrect);if(""===y)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg(window.td_pass_empty);if(!tdLogin.pass_pattern.test(y))return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg(window.td_pass_pattern_incorrect);if(y!==f)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg(window.td_retype_pass_incorrect);if(""===h)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg("Please select a role.");if(""===v)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg("Please select a region.");if(""===m)return tdLogin.addRemoveClass([".td_display_err",1,"tds-s-notif-error"]),tdLogin.addRemoveClass([".td_display_err",0,"tds-s-notif-success"]),void tdLogin.showHideMsg("Please select a phone number.");$registerCaptchaEl.length?grecaptcha.ready((function(){grecaptcha.execute(captchaKey,{action:"submit"}).then((function(e){captchaToken=e,tdLogin.doCustomAction("td_mod_subscription_register",p,u,y,f,captchaToken)}))})):registerAction(p,u,y,f,h,v,m,_,c,g)}}))}));